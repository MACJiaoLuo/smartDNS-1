language: go
go:
  - 1.12.x
addons:
  apt:
    packages:
      - python3
script:
  - "python3 ./build.py -create-sample"
before_deploy:
  - "go version"
  - "ls -al"
  - "python3 ./build.py -build"
deploy:
  provider: releases
  api_key:

  file:
    - overture-darwin-amd64.zip
    - overture-linux-386.zip
    - overture-linux-amd64.zip
    - overture-linux-arm.zip
    - overture-linux-arm64.zip
    - overture-linux-mips-softfloat.zip
    - overture-linux-mips-hardfloat.zip
    - overture-linux-mipsle-softfloat.zip
    - overture-linux-mipsle-hardfloat.zip
    - overture-linux-mips64.zip
    - overture-linux-mips64le.zip
    - overture-freebsd-386.zip
    - overture-freebsd-amd64.zip
    - overture-windows-386.zip
    - overture-windows-amd64.zip
  skip_cleanup: true
  on:
    tags: true
